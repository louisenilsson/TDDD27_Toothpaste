{"remainingRequest":"D:\\Documents\\tddd27_2021\\node_modules\\babel-loader\\lib\\index.js!D:\\Documents\\tddd27_2021\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Documents\\tddd27_2021\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Documents\\tddd27_2021\\src\\components\\NewAppointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Documents\\tddd27_2021\\src\\components\\NewAppointment.vue","mtime":1622556395048},{"path":"D:\\Documents\\tddd27_2021\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622469731099},{"path":"D:\\Documents\\tddd27_2021\\node_modules\\babel-loader\\lib\\index.js","mtime":1622469728174},{"path":"D:\\Documents\\tddd27_2021\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622469731099},{"path":"D:\\Documents\\tddd27_2021\\node_modules\\vue-loader\\lib\\index.js","mtime":1622469749018}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L0RvY3VtZW50cy90ZGRkMjdfMjAyMS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJuZXdBcHBvaW50bWVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIC8vIFN0YXJ0IGZyb20gdG9kYXlzIGRhdGUKICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgdmFyIHRvZGF5ID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKTsKICAgIHZhciBtaW5EYXRlID0gbmV3IERhdGUodG9kYXkpOwogICAgdmFyIG1heERhdGUgPSBuZXcgRGF0ZSh0b2RheSk7CiAgICBtYXhEYXRlLnNldE1vbnRoKG1heERhdGUuZ2V0TW9udGgoKSArIDYpOwogICAgcmV0dXJuIHsKICAgICAgYWZ0ZXJTdWJtaXQ6IGZhbHNlLAogICAgICBtaW46IG1pbkRhdGUsCiAgICAgIG1heDogbWF4RGF0ZSwKICAgICAgaW50ZXJ2YWw6IG51bGwsCiAgICAgIHRlbXBBcnJheTogW10sCiAgICAgIGRhdGVTdGF0ZTogbnVsbCwKICAgICAgdGltZVN0YXRlOiBudWxsLAogICAgICBhcHBvaW50bWVudDogewogICAgICAgIGRhdGU6ICcnLAogICAgICAgIGVtYWlsOiB0aGlzLiRhdXRoLnVzZXIuZW1haWwKICAgICAgfQogICAgfTsKICB9LAogIC8vIG1ha2VzIHRoZSBkYXRhIHVwZGF0ZWQgd2l0aG91dCByZWZyZXNoaW5nIHBhZ2UKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChfdGhpcy5yZWZyZXNoVGltZXMsIDUwKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIEdldCBldmVyeSBib29rZWQgYXBwb2ludG1lbnQgZnJvbSBkYXRhYmFzZQogICAgcmVmcmVzaFRpbWVzOiBmdW5jdGlvbiByZWZyZXNoVGltZXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHVyaSwgdG9rZW47CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVyaSA9ICdodHRwOi8vbG9jYWxob3N0OjQwMDAvYXBwb2ludG1lbnRzL2FsbCc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdG9rZW4gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXhpb3MuZ2V0KHVyaSwgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdCh0b2tlbiksCiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpczIudGVtcEFycmF5ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBDaGVja3MgaWYgZGF0ZSBhbmQgdGltZSBpcyBlbnRlcmVkCiAgICBjaGVja0Zvcm1WYWxpZGl0eTogZnVuY3Rpb24gY2hlY2tGb3JtVmFsaWRpdHkoKSB7CiAgICAgIGlmICh0aGlzLmFwcG9pbnRtZW50LmRhdGUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5kYXRlU3RhdGUgPSBmYWxzZTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kYXRlU3RhdGUgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAodGhpcy5hcHBvaW50bWVudC50aW1lID09PSAnJykgewogICAgICAgIHRoaXMudGltZVN0YXRlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudGltZVN0YXRlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgLy8gUmVzZXQgdGhlIGVudGVyZWQgdmFsdWVzIHdoZW4gY2xvc2luZyB0aGUgbW9kYWwKICAgIHJlc2V0TW9kYWw6IGZ1bmN0aW9uIHJlc2V0TW9kYWwoKSB7CiAgICAgIHRoaXMuYXBwb2ludG1lbnQuZGF0ZSA9ICcnOwogICAgICB0aGlzLmFwcG9pbnRtZW50LnRpbWUgPSAnJzsKICAgICAgdGhpcy5kYXRlU3RhdGUgPSBudWxsOwogICAgICB0aGlzLnRpbWVTdGF0ZSA9IG51bGw7CiAgICB9LAogICAgLy8gUHJldmVudCBmcm9tIGNsb3NpbmcgaWYgdGhlIHZhbHVlcyBhcmUgbm90IHZhbGlkCiAgICBoYW5kbGVPazogZnVuY3Rpb24gaGFuZGxlT2soYnZNb2RhbEV2dCkgewogICAgICAvLyBQcmV2ZW50IG1vZGFsIGZyb20gY2xvc2luZwogICAgICBidk1vZGFsRXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIFRyaWdnZXIgc3VibWl0IGhhbmRsZXIKCiAgICAgIHRoaXMuYWRkQXBwb2ludG1lbnQoKTsKICAgIH0sCiAgICAvLyBTdWJtaXQgdGhlIGZvcm0gYW5kIGFkZCB0aGUgbmV3IGFwcG9pbnRtZW50IHRvIHRoZSBkYXRhYmFzZQogICAgYWRkQXBwb2ludG1lbnQ6IGZ1bmN0aW9uIGFkZEFwcG9pbnRtZW50KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciB1cmksIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLmNoZWNrRm9ybVZhbGlkaXR5KCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHVyaSA9ICdodHRwOi8vbG9jYWxob3N0OjQwMDAvYXBwb2ludG1lbnRzL2FkZCc7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgdG9rZW4gPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpczMuYXhpb3MucG9zdCh1cmksIEpTT04uc3RyaW5naWZ5KF90aGlzMy5hcHBvaW50bWVudCksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pLAogICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7IC8vICJjbG9zZSIgdGhlIG1vZGFsCgoKICAgICAgICAgICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJGJ2TW9kYWwuaGlkZSgnbW9kYWwtcHJldmVudC1jbG9zaW5nJyk7CiAgICAgICAgICAgICAgICB9KTsgLy8gcmVzZXQgdmFsdWVzIGFmdGVyIHN1Ym1pdAoKCiAgICAgICAgICAgICAgICBfdGhpczMuYXBwb2ludG1lbnQuZGF0ZSA9ICcnOwogICAgICAgICAgICAgICAgX3RoaXMzLmFwcG9pbnRtZW50LnRpbWUgPSAnJzsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIERpc2FibGUgd2Vla2VuZHMKICAgIGRhdGVEaXNhYmxlZDogZnVuY3Rpb24gZGF0ZURpc2FibGVkKHltZCwgZGF0ZSkgewogICAgICB2YXIgd2Vla2RheSA9IGRhdGUuZ2V0RGF5KCk7IC8vIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGRhdGUgc2hvdWxkIGJlIGRpc2FibGVkCgogICAgICByZXR1cm4gd2Vla2RheSA9PT0gMCB8fCB3ZWVrZGF5ID09PSA2OwogICAgfSwKICAgIC8vIEZpbmQgYXZhaWxhYmxlIHRpbWVzIGFuZCBwcmludCB0aGVtIG91dAogICAgcHJpbnRUaW1lczogZnVuY3Rpb24gcHJpbnRUaW1lcyh0ZW1wQXJyYXkpIHsKICAgICAgdmFyIHRpbWVzID0gWyc4OjAwIC0gOTowMCcsICc5OjAwIC0gMTA6MDAnLCAnMTA6MDAgLSAxMTowMCddOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wQXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5hcHBvaW50bWVudC5kYXRlID09IHRlbXBBcnJheVtpXS5kYXRlKSB7CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRpbWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICh0aW1lc1tqXSA9PSB0ZW1wQXJyYXlbaV0udGltZSkgewogICAgICAgICAgICAgIGRlbGV0ZSB0aW1lc1tqXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRpbWVzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["NewAppointment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <!-- Button to open the modal -->\r\n  <div>\r\n    <b-container fluid>\r\n      <b-row>\r\n        <b-col col sm=\"12\" md=\"12\" lg=\"9\" xl=\"9\" class=\"p-2\">\r\n          <div class=\"alert alert-secondary rounded-0 shadow-sm\">\r\n            <b-button v-b-modal.modal-prevent-closing>New Appointment</b-button>\r\n          </div>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n\r\n    <!-- The modal with the form -->\r\n    <b-modal\r\n      id=\"modal-prevent-closing\"\r\n      ref=\"modal\"\r\n      title=\"Book An Appointment\"\r\n      @show=\"resetModal\"\r\n      @hidden=\"resetModal\"\r\n      @ok=\"handleOk\">\r\n      <form ref=\"form\" @submit.prevent=\"addAppointment\">\r\n        <b-form-group\r\n          label=\"Select a date\"\r\n          label-for=\"date-input\"\r\n          invalid-feedback=\"Date is required\"\r\n          :state=\"dateState\">\r\n          <b-form-datepicker id=\"datepicker-dateformat\" \r\n            :date-disabled-fn=\"dateDisabled\"\r\n            :min=\"min\"\r\n            :max=\"max\"\r\n            :date-format-options=\"{ weekday: 'long', day: 'numeric',month: 'long', year: 'numeric'}\"\r\n            v-model=\"appointment.date\"\r\n            required>\r\n          </b-form-datepicker>\r\n        </b-form-group>\r\n        <b-form-group \r\n          v-if=\"this.appointment.date != ''\"\r\n          label=\"Select a time\"\r\n          label-for=\"time-input\"\r\n          invalid-feedback=\"Time is required\"\r\n          :state=\"timeState\">\r\n          <b-form-radio-group class=\"pt-2\" \r\n            :options=\"printTimes(tempArray)\"  \r\n            v-model=\"appointment.time\"\r\n            required>\r\n          </b-form-radio-group>\r\n        </b-form-group>\r\n      </form>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"newAppointment\",\r\n  data(){\r\n    // Start from todays date\r\n    const now = new Date()\r\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\r\n    const minDate = new Date(today)\r\n    const maxDate = new Date(today)\r\n    maxDate.setMonth(maxDate.getMonth() + 6)\r\n\r\n    return {\r\n      afterSubmit: false,\r\n      min: minDate,\r\n      max: maxDate,\r\n      interval: null,\r\n      tempArray: [],\r\n      dateState:null,\r\n      timeState:null,\r\n      appointment:{\r\n        date: '',\r\n        email: this.$auth.user.email,\r\n      }\r\n    }\r\n  },\r\n  // makes the data updated without refreshing page\r\n  async mounted(){\r\n    this.interval = setInterval(this.refreshTimes, 50)\r\n  },\r\n  methods: {\r\n    // Get every booked appointment from database\r\n    async refreshTimes(){\r\n      let uri = 'http://localhost:4000/appointments/all'\r\n      const token = await this.$auth.getTokenSilently();\r\n        \r\n      await this.axios.get(uri, {\r\n        headers:{\r\n          Authorization: `Bearer ${token}`,\r\n          \"Content-type\": \"application/json\"\r\n        },\r\n      }).then(response => {\r\n          this.tempArray = response.data\r\n      })\r\n    },\r\n    // Checks if date and time is entered\r\n    checkFormValidity() {\r\n      if(this.appointment.date === ''){\r\n        this.dateState = false\r\n        return false\r\n      } else {\r\n        this.dateState = true\r\n      }\r\n      if(this.appointment.time === ''){\r\n        this.timeState = false\r\n        return false\r\n      } else {\r\n        this.timeState = true\r\n      }\r\n        \r\n      return true\r\n    },\r\n    // Reset the entered values when closing the modal\r\n    resetModal() {\r\n      this.appointment.date = ''\r\n      this.appointment.time = ''\r\n      this.dateState = null\r\n      this.timeState = null\r\n    },\r\n    // Prevent from closing if the values are not valid\r\n    handleOk(bvModalEvt) {\r\n      // Prevent modal from closing\r\n      bvModalEvt.preventDefault()\r\n      // Trigger submit handler\r\n      this.addAppointment()\r\n    },\r\n    // Submit the form and add the new appointment to the database\r\n    async addAppointment(){\r\n      if(!this.checkFormValidity()){\r\n        return\r\n      } \r\n\r\n      let uri = 'http://localhost:4000/appointments/add';\r\n      const token = await this.$auth.getTokenSilently();\r\n\r\n      this.axios.post(uri, JSON.stringify(this.appointment), {\r\n        headers:{\r\n          Authorization: `Bearer ${token}`,\r\n          'content-type': 'application/json'\r\n        }\r\n      })\r\n\r\n      // \"close\" the modal\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide('modal-prevent-closing')\r\n      })\r\n\r\n      // reset values after submit\r\n      this.appointment.date = ''\r\n      this.appointment.time = ''\r\n    },\r\n    // Disable weekends\r\n    dateDisabled(ymd, date) {\r\n      const weekday = date.getDay()\r\n      // Return `true` if the date should be disabled\r\n      return weekday === 0 || weekday === 6\r\n    },\r\n    // Find available times and print them out\r\n    printTimes(tempArray){\r\n      var times = ['8:00 - 9:00', '9:00 - 10:00', '10:00 - 11:00'] \r\n      \r\n      for(var i = 0; i < tempArray.length; i++){\r\n        if(this.appointment.date == tempArray[i].date){\r\n          for(var j = 0; j < times.length; j++){\r\n            if(times[j] == tempArray[i].time){\r\n              delete times[j]\r\n            }\r\n          }   \r\n        }\r\n      } \r\n      return times\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}