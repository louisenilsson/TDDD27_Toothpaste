{"remainingRequest":"C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\node_modules\\babel-loader\\lib\\index.js!C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\src\\components\\NewAppointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\src\\components\\NewAppointment.vue","mtime":1622469568830},{"path":"C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618476768076},{"path":"C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\node_modules\\babel-loader\\lib\\index.js","mtime":1618476766961},{"path":"C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1618476768076},{"path":"C:\\LiU\\År4\\Termin8\\TDDD27\\tddd27_2021\\node_modules\\vue-loader\\lib\\index.js","mtime":1618476796555}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L0xpVS9ceEM1cjQvVGVybWluOC9UREREMjcvdGRkZDI3XzIwMjEvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibmV3QXBwb2ludG1lbnQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSk7CiAgICB2YXIgbWluRGF0ZSA9IG5ldyBEYXRlKHRvZGF5KTsKICAgIHZhciBtYXhEYXRlID0gbmV3IERhdGUodG9kYXkpOwogICAgbWF4RGF0ZS5zZXRNb250aChtYXhEYXRlLmdldE1vbnRoKCkgKyA2KTsKICAgIHJldHVybiB7CiAgICAgIGFmdGVyU3VibWl0OiBmYWxzZSwKICAgICAgbWluOiBtaW5EYXRlLAogICAgICBtYXg6IG1heERhdGUsCiAgICAgIHRlbXBBcnJheTogW10sCiAgICAgIGFwcG9pbnRtZW50OiB7CiAgICAgICAgZGF0ZTogJycKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB1cmk7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB1cmkgPSAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL2FwcG9pbnRtZW50cyc7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zLmdldCh1cmkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpcy50ZW1wQXJyYXkgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkQXBwb2ludG1lbnQ6IGZ1bmN0aW9uIGFkZEFwcG9pbnRtZW50KCkgewogICAgICB2YXIgdXJpID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9hcHBvaW50bWVudHMvYWRkJzsKICAgICAgdGhpcy5heGlvcy5wb3N0KHVyaSwgdGhpcy5hcHBvaW50bWVudCk7CiAgICB9LAogICAgZGF0ZURpc2FibGVkOiBmdW5jdGlvbiBkYXRlRGlzYWJsZWQoeW1kLCBkYXRlKSB7CiAgICAgIC8vIERpc2FibGUgd2Vla2VuZHMgKFN1bmRheSA9IGAwYCwgU2F0dXJkYXkgPSBgNmApIGFuZAogICAgICAvLyBkaXNhYmxlIGRheXMgdGhhdCBmYWxsIG9uIHRoZSAxM3RoIG9mIHRoZSBtb250aAogICAgICB2YXIgd2Vla2RheSA9IGRhdGUuZ2V0RGF5KCk7IC8vIFJldHVybiBgdHJ1ZWAgaWYgdGhlIGRhdGUgc2hvdWxkIGJlIGRpc2FibGVkCgogICAgICByZXR1cm4gd2Vla2RheSA9PT0gMCB8fCB3ZWVrZGF5ID09PSA2OwogICAgfSwKICAgIHByaW50VGltZXM6IGZ1bmN0aW9uIHByaW50VGltZXModGVtcEFycmF5KSB7CiAgICAgIHZhciB0aW1lcyA9IFsnODowMCAtIDk6MDAnLCAnOTowMCAtIDEwOjAwJywgJzEwOjAwIC0gMTE6MDAnXTsgLy9Mw6RuZ2RlbiBww6UgZGF0YWJhc2VuCiAgICAgIC8vTG9vcGEgw7Z2ZXIgZGVubmEgb2NoIGhpdHRhIHZpbGthIHNvbSBoYXIgdGhpcy5hcHBvaW50bWVudC5kYXRlCiAgICAgIC8vVGEgYm9ydCBkZXNzYSBmcsOlbiB0aW1lcwogICAgICAvLyBsZXQgdXJpID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9hcHBvaW50bWVudHMnCiAgICAgIC8vIHZhciB0ZW1wQXJyYXkgPSBhd2FpdCB0aGlzLmF4aW9zLmdldCh1cmkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAvLyAgIHJldHVybiByZXNwb25zZS5kYXRhCiAgICAgIC8vIH0pCiAgICAgIC8vIGNvbnNvbGUubG9nKHRlbXBBcnJheSkKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcEFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc29sZS5sb2codGVtcEFycmF5W2ldLmRhdGUpOwoKICAgICAgICBpZiAodGhpcy5hcHBvaW50bWVudC5kYXRlID09IHRlbXBBcnJheVtpXS5kYXRlKSB7CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRpbWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICh0aW1lc1tqXSA9PSB0ZW1wQXJyYXlbaV0udGltZSkgewogICAgICAgICAgICAgIGRlbGV0ZSB0aW1lc1tqXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc29sZS5sb2codGltZXMpOwogICAgICByZXR1cm4gdGltZXM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["NewAppointment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAGA,EAAA,IAHA,kBAGA;AACA,QAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,QAAA,KAAA,GAAA,IAAA,IAAA,CAAA,GAAA,CAAA,WAAA,EAAA,EAAA,GAAA,CAAA,QAAA,EAAA,EAAA,GAAA,CAAA,OAAA,EAAA,CAAA;AACA,QAAA,OAAA,GAAA,IAAA,IAAA,CAAA,KAAA,CAAA;AACA,QAAA,OAAA,GAAA,IAAA,IAAA,CAAA,KAAA,CAAA;AACA,IAAA,OAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA,KAAA,CAAA;AAEA,WAAA;AACA,MAAA,WAAA,EAAA,KADA;AAEA,MAAA,GAAA,EAAA,OAFA;AAGA,MAAA,GAAA,EAAA,OAHA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,WAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA;AALA,KAAA;AASA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,GADA,GACA,oCADA;AAAA;AAAA,qBAEA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,gBAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA;AACA,eAFA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,GAAA,GAAA,wCAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,KAAA,WAAA;AACA,KAJA;AAKA,IAAA,YALA,wBAKA,GALA,EAKA,IALA,EAKA;AACA;AACA;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAHA,CAIA;;AACA,aAAA,OAAA,KAAA,CAAA,IAAA,OAAA,KAAA,CAAA;AACA,KAXA;AAYA,IAAA,UAZA,sBAYA,SAZA,EAYA;AACA,UAAA,KAAA,GAAA,CAAA,aAAA,EAAA,cAAA,EAAA,eAAA,CAAA,CADA,CAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;;AAEA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA,IAAA;;AACA,YAAA,KAAA,WAAA,CAAA,IAAA,IAAA,SAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,gBAAA,KAAA,CAAA,CAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA;AACA,qBAAA,KAAA,CAAA,CAAA,CAAA;AACA;AACA;AACA;AACA;;AAGA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,aAAA,KAAA;AAEA;AAzCA;AA1BA,CAAA","sourcesContent":["<template>\r\n<!-- Läs mer här: https://getbootstrap.com/docs/4.0/components/modal/ -->\r\n\r\n  <!-- The modal with the form -->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"exampleModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    data-backdrop=\"static\"\r\n  >\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content modal-xl\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add New Appointment</h5>\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <form v-on:submit=\"addAppointment\" >\r\n            <div class=\"modal-body\">\r\n              <label for=\"datepicker-dateformat\">Select a date</label>\r\n                <b-form-datepicker id=\"datepicker-dateformat\" \r\n                :date-disabled-fn=\"dateDisabled\"\r\n                :min=\"min\"\r\n                :max=\"max\"\r\n                :date-format-options=\"{ weekday: 'long', day: 'numeric',month: 'long', year: 'numeric'}\"\r\n                v-model=\"appointment.date\"></b-form-datepicker>\r\n                <p> Value: {{ appointment.date }}</p>          \r\n            </div>\r\n            <div v-if =\"this.appointment.date != ''\" class=\"modal-body\">\r\n              <label>Select a time</label> <!-- Prova v-for -->\r\n              <b-form-radio-group class=\"pt-2\" \r\n              :options=\"printTimes(tempArray)\"  \r\n              v-model=\"appointment.time\">\r\n              </b-form-radio-group>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button type=\"button\" class=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\r\n              \r\n              <button type=\"submit\" class=\"btn btn-primary\">Next</button>\r\n              \r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: \"newAppointment\",\r\n\r\n      data(){\r\n          const now = new Date()\r\n          const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\r\n          const minDate = new Date(today)\r\n          const maxDate = new Date(today)\r\n          maxDate.setMonth(maxDate.getMonth() + 6)\r\n\r\n        return {\r\n          afterSubmit: false,\r\n          min: minDate,\r\n          max: maxDate,\r\n          tempArray: [],\r\n          appointment:{\r\n            date: ''\r\n          }\r\n        }\r\n    },\r\n    async mounted(){\r\n      let uri = 'http://localhost:4000/appointments'\r\n      await this.axios.get(uri).then(response => {\r\n        this.tempArray = response.data\r\n      })\r\n    },\r\n    methods: {\r\n      addAppointment(){\r\n        let uri = 'http://localhost:4000/appointments/add';\r\n        this.axios.post(uri, this.appointment) \r\n      },\r\n      dateDisabled(ymd, date) {\r\n        // Disable weekends (Sunday = `0`, Saturday = `6`) and\r\n        // disable days that fall on the 13th of the month\r\n        const weekday = date.getDay()\r\n        // Return `true` if the date should be disabled\r\n        return weekday === 0 || weekday === 6\r\n      },\r\n      printTimes(tempArray){\r\n         var times = ['8:00 - 9:00', '9:00 - 10:00', '10:00 - 11:00'] \r\n        //Längden på databasen\r\n        //Loopa över denna och hitta vilka som har this.appointment.date\r\n        //Ta bort dessa från times\r\n        \r\n\r\n        // let uri = 'http://localhost:4000/appointments'\r\n        // var tempArray = await this.axios.get(uri).then(response => {\r\n        //   return response.data\r\n        // })\r\n\r\n        // console.log(tempArray)\r\n\r\n        for(var i = 0; i < tempArray.length; i++){\r\n          console.log(tempArray[i].date)\r\n          if(this.appointment.date == tempArray[i].date){\r\n            for(var j = 0; j < times.length; j++){\r\n              if(times[j] == tempArray[i].time){\r\n                delete times[j]\r\n              }\r\n            }   \r\n          }\r\n        }\r\n        \r\n          \r\n        console.log(times)\r\n        return times\r\n\r\n      }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}